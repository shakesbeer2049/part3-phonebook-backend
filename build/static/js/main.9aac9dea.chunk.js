(this.webpackJsonppart1=this.webpackJsonppart1||[]).push([[0],{20:function(e,t,n){},41:function(e,t,n){"use strict";n.r(t);var c=n(15),s=n.n(c),a=n(3),r=n(2),o=(n(20),n(4)),i=n.n(o),l="/api/persons",u=function(){return i.a.get(l).then((function(e){return e.data}))},j=function(e){return i.a.post(l,e).then((function(e){return e.data}))},h=function(e){return i.a.delete("".concat(l,"/").concat(e))},d=function(e,t){return i.a.put("".concat(l,"/").concat(e),t).then((function(e){return e.data}))},b=n(0),m=function(e){var t=e.showContacts,n=e.setShowContacts,c=e.filtered,s=(e.setErrMessage,e.setMessage);return Object(r.useEffect)((function(){u().then((function(e){n(e)}))}),[n]),0===c.length?Object(b.jsx)(b.Fragment,{children:Object(b.jsx)("div",{className:"contact-list",children:Object(b.jsx)("ul",{children:t.map((function(e,t){return Object(b.jsxs)("li",{children:[e.name," ",e.number,Object(b.jsx)("button",{onClick:function(){var t;t=e.id,window.confirm("Click okay to delete the contact")&&(h(t).then("holaaaa"),s("Contact deleted"),setTimeout((function(){return s(null)}),3e3),setTimeout((function(){return u().then((function(e){n(e)}))}),0))},children:Object(b.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"21",height:"21",fill:"currentColor",className:"bi bi-trash",viewBox:"0 0 16 16",children:[Object(b.jsx)("path",{d:"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"}),Object(b.jsx)("path",{fillRule:"evenodd",d:"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"})]})})]},t)}))})})}):c.length>=0?Object(b.jsx)(b.Fragment,{children:Object(b.jsx)("div",{className:"contact-list",children:Object(b.jsx)("ul",{children:c.length>0?c.map((function(e,t){return Object(b.jsxs)("li",{children:[e.name," ",e.number]},t)})):Object(b.jsx)("h3",{children:"No Match"})})})}):void 0},O=function(e){var t=e.showContacts,n=(e.setShowContacts,e.filtered,e.setFiltered);return Object(b.jsx)(b.Fragment,{children:Object(b.jsx)("input",{onChange:function(e){n(t.filter((function(t){return t.name.toLowerCase().includes(e.target.value.toLowerCase())})))}})})},f=function(e){var t,n=e.showContacts,c=e.setShowContacts,s=e.setMessage,o=e.setErrMessage,i=Object(r.useState)(""),l=Object(a.a)(i,2),h=l[0],m=l[1],O=Object(r.useState)(""),f=Object(a.a)(O,2),g=f[0],x=f[1];function v(e){return t=n.find((function(t){return t.name===e}))}return Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)("form",{onSubmit:function(e){e.preventDefault();var a={name:h,number:g};(h&&g||window.alert("you blind bro "),console.log(h),console.log(v(h)),void 0!==v(h))?window.confirm("".concat(h," is already in the phonebook. Update details?"))&&d(t.id,a).then((function(t){c(n.concat(t)),s("".concat(t.name," has been updated.")),e.target.reset(),m(""),x(""),u().then((function(e){c(e)}))})).catch((function(e){console.log(e.response.data.err),o(e.response.data.err),setTimeout((function(){return o(null)}),3e3)})):j(a).then((function(t){console.log(t),s("".concat(t.name," has been added.")),u().then((function(e){c(e)})),setTimeout((function(){return s(null)}),3e3),e.target.reset(),m(""),x("")})).catch((function(e){console.log(e.response.data.err),o(e.response.data.err),setTimeout((function(){return o(null)}),3e3)}))},children:[Object(b.jsx)("label",{htmlFor:"Name",children:"Name "}),Object(b.jsx)("input",{type:"text",onChange:function(e){m(e.target.value)}}),Object(b.jsx)("br",{}),Object(b.jsx)("label",{htmlFor:"Number",children:"Number "}),Object(b.jsx)("input",{type:"number",onChange:function(e){x(e.target.value)}}),Object(b.jsx)("br",{}),Object(b.jsx)("button",{type:"submit",children:"Add"})]})})},g=function(e){var t=e.errMessage;return null===t?null:Object(b.jsx)(b.Fragment,{children:Object(b.jsx)("h5",{className:"err-message",children:t})})},x=function(e){var t=e.message;return null===t?null:Object(b.jsx)(b.Fragment,{children:Object(b.jsx)("h5",{className:"message",children:t})})},v=function(e){var t=e.message,n=e.errMessage;return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(g,{errMessage:n}),Object(b.jsx)(x,{message:t})]})},p=function(){var e=Object(r.useState)([]),t=Object(a.a)(e,2),n=t[0],c=t[1],s=Object(r.useState)([]),o=Object(a.a)(s,2),i=o[0],l=o[1],u=Object(r.useState)(null),j=Object(a.a)(u,2),h=j[0],d=j[1],g=Object(r.useState)(null),x=Object(a.a)(g,2),p=x[0],w=x[1];return Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)("div",{className:"main-container",children:[Object(b.jsx)("h1",{children:"Phonebook"}),Object(b.jsx)("hr",{}),Object(b.jsx)(v,{message:h,errMessage:p}),Object(b.jsxs)("div",{className:"search",children:[Object(b.jsx)("h2",{children:"Search"}),Object(b.jsx)(O,{showContacts:n,setFiltered:l,filtered:i})]}),Object(b.jsxs)("div",{className:"add-contact",children:[Object(b.jsx)("h2",{children:"Add Contact"}),Object(b.jsx)(f,{showContacts:n,setShowContacts:c,setMessage:d,setErrMessage:w})]}),Object(b.jsx)("div",{className:"show-contact",children:Object(b.jsx)(m,{showContacts:n,setShowContacts:c,filtered:i,setFiltered:l,setMessage:d,setErrMessage:w})})]})})};s.a.render(Object(b.jsx)(p,{}),document.getElementById("root"))}},[[41,1,2]]]);
//# sourceMappingURL=main.9aac9dea.chunk.js.map